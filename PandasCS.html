<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <title>PANDAS Cheatsheet</title>

    <style>
        img {
            width: 100%;
        }

        body {
            background-color: aliceblue;
            margin-top: 0px;
            margin-left: 0px;
        }

        h2 {
            text-align: center;
        }

        .hide {
        display: none;
        }

        p {
        color: black;
        }

        .MoveRight {
            margin-right: 30%;
            float: right;
            display: inline-block;
            color: black;
            font-family: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
          
        }

        pre {
            color: #e83e8c
        }
        
    </style>

    <!-- CSS Code: Place this code in the document's head (between the <head> -- </head> tags) -->
    <style>
        table.customTable {
            width: 100%;
            background-color: #FFFFFF;
            border-collapse: collapse;
            border-width: 2px;
            border-color: #7ea8f8;
            border-style: solid;
            color: #000000;
        }

        table.customTable td,
        table.customTable th {
            border-width: 2px;
            border-color: #7ea8f8;
            border-style: solid;
            padding: 5px;
        }

        table.customTable thead {
            background-color: #7ea8f8;
        }
    </style>

    <script>
        function myFunction() {
            var element = document.getElementById("SourceFile");
            element.classList.toggle("hide");
        }
    </script>


</head>

<body>

    <!-- To toggle source file: 1) add p, 2) add style, 3) add function in script, 4) add event to navbar -->


    <!-- Navbar start---------------------------------------------------------------- -->

    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="https://codepen.io/saeedahmed12/pen/YJVzLe">NAVBAR</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Item Below
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="#main">Go to top</a>
                        <a class="dropdown-item" href="#additional">Additional items</a>
                        <a class="dropdown-item" href="https://datacamp-community-prod.s3.amazonaws.com/fbc502d0-46b2-4e1b-b6b0-5402ff273251">PANDAS
                            BASICS source</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink1" role="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink1">
                        <a class="dropdown-item" href="https://notebooks.azure.com/saeed19/projects/Pandas/html/PANDAS.ipynb"
                            target="_blank">Qazi Pandas NB</a>
                        <a class="dropdown-item" href="https://pandas.pydata.org/pandas-docs/stable/10min.html#min"
                            target="_blank">Official tutorials</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="myFunction()">Show/hide sourcefile</a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink3" role="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Cheatsheets
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink3">
                        <a href="https://conda.io/docs/_downloads/conda-cheatsheet.pdf" target="_blank" class="dropdown-item">Conda</a>
                        <a href="https://sinxloud.com/wp-content/uploads/2018/09/Beginners-Python-Cheat-Sheet_PCC_All.jpg"
                            target="_blank" class="dropdown-item">Python (CC)</a>

                        <a href="https://www.dataquest.io/blog/large_files/python-cheat-sheet-basic.pdf" target="_blank"
                            class="dropdown-item">Python
                            Basic (DQ)</a>
                        <a href="https://www.dataquest.io/blog/large_files/python-cheat-sheet-intermediate.pdf" target="_blank"
                            class="dropdown-item">Python
                            Intermediate (DQ)</a>
                        <a href="https://www.dataquest.io/blog/large_files/python-regular-expressions-cheat-sheet.pdf"
                            target="_blank" class="dropdown-item">Python Regex (DQ)</a>
                        <a href="https://datacamp-community-prod.s3.amazonaws.com/e30fbcd9-f595-4a9f-803d-05ca5bf84612"
                            target="_blank" class="dropdown-item">Python (DC)</a>
                        <a href="https://sinxloud.com/wp-content/uploads/2018/09/Python-For-Data-Science-Cheat-Sheet-Importing-Data-Datacamp.jpg"
                            target="_blank" class="dropdown-item">Python Importing (DC)</a>
                        <a href="https://saeedahmed12.github.io/V/mathplotlibCS.html" target="_blank" class="dropdown-item">MathPlotLib
                            (SA)</a>
                        <a href="https://saeedahmed12.github.io/V/Numpy.html" target="_blank" class="dropdown-item">Numpy
                            (SA) </a>
                        <a href="https://www.dataquest.io/blog/large_files/numpy-cheat-sheet.pdf" target="_blank" class="dropdown-item">Numpy
                            (DQ) </a>
                        <a href="https://datacamp-community-prod.s3.amazonaws.com/e9f83f72-a81b-42c7-af44-4e35b48b20b7"
                            target="_blank" class="dropdown-item">Numpy (DC) Basics </a>
                        <a href="https://datacamp-community-prod.s3.amazonaws.com/9f0f2ae1-8bd8-4302-a67b-e17f3059d9e8"
                            target="_blank" class="dropdown-item">Pandas (DC) </a>
                        <a href="https://www.dataquest.io/blog/large_files/pandas-cheat-sheet.pdf" target="_blank"
                            class="dropdown-item">Pandas
                            (DQ) </a>
                        <a href="https://saeedahmed12.github.io/V/PandasCS.html" target="_blank" class="dropdown-item">Pandas
                            Basics
                            (SA)</a>
                        <a href="https://datacamp-community-prod.s3.amazonaws.com/5433fa18-9f43-44cc-b228-74672efcd116"
                            target="_blank" class="dropdown-item">SciKit Learn (DC)</a>
                        <a href="https://datacamp-community-prod.s3.amazonaws.com/5710caa7-94d4-4248-be94-d23dea9e668f"
                            target="_blank" class="dropdown-item">SciPy (DC)</a>
                        <a href="https://saeedahmed12.github.io/V/latex.html" target="_blank" class="dropdown-item">Latex</a>
                        <a href="https://saeedahmed12.github.io/V/MarkdownTable.html" target="_blank" class="dropdown-item">MarkdownÂ </a>

                    </div>
                </li>

            </ul>
        </div>
    </nav>

    <!-- Navbar End---------------------------------------------------------------- -->


    <h2 style="padding-top: 50px" id="main">Main CS</h2>
    <p id="SourceFile" class="hide">C:\Users\Ahmed\OneDrive\Documents\for online
        content\forProgmWebsites\GitVs\PandasCS.html</p>



    <iframe style="width: 100%; height: 1350px" src="https://datacamp-community-prod.s3.amazonaws.com/fbc502d0-46b2-4e1b-b6b0-5402ff273251">
    </iframe>




    <hr style="background-color: aliceblue">





    <h2 id="additional">Additional Items</h2>


    <ol>
        <li>Basic Information</li>
        <table class="customTable">
            <tbody>
                <tr>
                    <td>
                        <pre>
X.head()
X.tail()
X.info()
X.describe()
X.describe(include='all')
df.columns
df.index
                    </pre>
                    </td>
                    <td>
Quick look
                    </td>
                </tr>

                <tr>
                    <td>
                        <pre>
# file i/o (see below)

a = np.arange(0,100)                            <span class="MoveRight">#using np arrays</span>
b = np.linspace(0,1000,100)
df[1]=b

df1 = pd.DataFrame({'key': ['a', 'b', 'c', 'd', 'e'],'A1': range(5), 'B1':range(5,10)}) <span class="MoveRight">#use dictionaries</span>
df2 = pd.DataFrame({'key': ['a', 'b', 'c'], 'A2': range(3), 'B2':range(3,6)})
                         </pre>
                    </td>
                    <td>
                        Making dataframes
                    </td>
                </tr>

            </tbody>
        </table>

        <li>Accessing data from dataframe</li>
        <table class="customTable">
            <tbody>
                <tr>
                    <td>
                        <pre>
df[0]                           <span class="MoveRight">#column(s) by default label</span>
df[[0,2]]
df[df.columns[0:2]]             <span class="MoveRight">#columns by range</span>

df[['c1', 'c10']]               <span class="MoveRight">#column by custom label</span> 


df.ix[0]                        <span class="MoveRight"> #row by index</span>
df.iloc[0]
df.loc['r1']                   <span class="MoveRight"> #row by label</span>

df.loc[['r1','r2'],['c1','c2']] <span class="MoveRight">#grab subsets</span>


df[df[0]>2]                      <span class="MoveRight"> #grab rows based on col value </span>
df[df.columns[df.iloc[5]>55]]     <span class="MoveRight">#grabbing col based on row value filter more complicated</span>

df['c1'].unique()
df['c1'].nunique()
             </pre>
                    </td>
                    <td>Columns and Rows</td>
                </tr>
            </tbody>
        </table>


        <li>file I/O</li>
        <table class="customTable">
            <tbody>
                <tr>
                    <td>
                        <code>pd.read_csv('data.csv', chunksize=1000)</code>  <br>
                        <code>pd.read.csv('data2.csv', header=None</code>   <span class="MoveRight">#header is default</span> <br>
                        <code>pd.read.csv('data3.csv', engine='python', skipfooter=3)</code> <span class="MoveRight">#skipfooter only works with python engine</span>
                    <br><br>
                        <code>df.columns = ['x','y'] </code> <span class="MoveRight">#reassign column names if needed</span>
                        <br> <br>
                        <code>chipo = pd.read_csv('https://raw.githubusercontent.com/justmarkham/DAT8/master/data/chipotle.tsv', sep='\t')</code>  <span class="MoveRight">#tab separated file</span>
                        
                    </td>
                    <td></td>
            </tbody>
        </table>


        <li>Data manipulation</li>
        <table class="customTable">
            <tbody>
                <tr>
                    <td>
                        <code>df['ones'] = 1 </code> <span class="MoveRight">#ADD col:  adds a new col of '1's</span>  <br>
                        <code>df['new'] = df['c1'] + df['c2']</code> <span class="MoveRight">#new columns can result from operations</span>
                        <br><br>
                        <pre>
df['x1x2'] = df.apply(lamda row: row['x1']*row['x2'], axis=1)    <span class="MoveRight">#note axis 1 to apply to rows sequentially, as opposed to col's</span>
df['x1x2'] = df.apply(function, axis=1)  <span class="MoveRight">#APPLY function to new column</span>

def myFunc(row):                                <span class="MoveRight">#APPLY function by row.  Note that 'row' acts like 'df.loc['rowlabel'] if axis is 1 in call </span>
    import numpy as np
    if (row.isnull()['Annual Salary']==False):
        return float(str(row['Annual Salary']).split("$")[1])
    else:
        return np.nan
pay['Salaries'] = pay.apply(myFunc, axis=1)

                        </pre>
                        <code>from datetime import datetime</code> <br> <span class="MoveRight">#Apply datetime format to date strings</span>
                        <code>datetime.strptime("1949-05", "%Y-%m")</code> <br>
                        <code>df['dt'] = df.apply(lambda row: datetime.strptime(row['month'], "%Y-%m"), axis=1)</code> <br>
                        <code>chipo['item_price'] = chipo.apply(lambda row: row['item_price'].strip("$"), axis=1)</code>  <span class="MoveRight">#for df 'chipo', $ is striped from price for each row</span> <br>
                        <code>pay['Salary']=pay['Annual Salary'].str.replace('$', '').astype(float)  <span class="MoveRight">#note that <a href="http://pandas.pydata.org/pandas-docs/stable/text.html">'str'</a> allows working with text in cells</code>
                        <br></span>
                        <code>chipo['item_price'] = pd.to_numeric(chipo['item_price'])</code>  <span class="MoveRight">#column is converted from str to float</span>
                        <pre>   
t1 = pd.read_csv('table1.csv') <span class="MoveRight">#using MERGE to join to CSV files on a particular column </span>
t2 = pd.read_csv('table2.csv')
m = pd.merge(t1,t2, on='userID')

t1.merge(t2, on='userID') <span class="MoveRight">#MERGE can be called directly on the df</span>

pd.merge(df1,df2, how='right', on='key')
pd.merge(df1,df2, how='right', on=['k1','k2'])
pd.concat([df1,df2]) <span class="MoveRight">#CONCATENATE default axis is 0/'index' to concatenate along</span>

foobar.pivot_table(values='D',index=['A', 'B'],columns=['C'])   <span class="MoveRight">#PIVOT</span>
                        </pre>
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <pre>
chipo.groupby(['item_name']).sum()               <span class="MoveRight">#grouping data</span>
chipo.groupby(['order_id']).count()
chipo.groupby(['order_id']).mean()
chipo.groupby(['item_name']).count().item_name.count()
len(chipo.groupby(['item_name']).groups.keys())
                        </pre>
                    </td>
                    <td></td>
                </tr>
            </tbody>
        </table>


<li>Missing Data</li>
<table class="customTable">
    <tbody>
        <tr>
            <td>
                <pre>
df.isnull()
pay.isnull().sum() <span class="MoveRight">#sum of "NANs/None/NaT" in all columns of df </span>

df.notnull()
df.dropna(thresh=3)                                   <span class="MoveRight">#drop rows with filled values < 3</span> 
df.dropna(axis=1)                                  <span class="MoveRight">#drop columns with any NAN values</span>
df.fillna(method='ffill' ) df.fillna(value=df['A'].mean())
                </pre>

            </td>
            <td>

            </td>
        </tr>

    </tbody>
</table>

<li>Sort and Rank</li>
<table class="customTable">
    <tbody>
        <tr>
            <td>
                <pre>
df['c1'].value_counts()   <span class="MoveRight">#will provide number of items of each type in df['c1']</span>

df.sort_values(by='col2')
df.sort_values(by=['col1', 'col2']
                </pre>

            </td>
            <td>

            </td>
        </tr>

    </tbody>
</table>




    </ol>




    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="
                        https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>



</html>